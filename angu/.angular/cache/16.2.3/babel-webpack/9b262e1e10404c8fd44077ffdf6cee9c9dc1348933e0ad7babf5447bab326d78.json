{"ast":null,"code":"var _class;\nimport { NavigationEnd } from '@angular/router';\nimport { filter, map, mergeMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./seo.service\";\nexport class AppComponent {\n  constructor(router, activatedRoute, seoService) {\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.seoService = seoService;\n  }\n  ngOnInit() {\n    this.router.events.pipe(filter(e => e instanceof NavigationEnd), map(e => this.activatedRoute), map(route => {\n      while (route.firstChild) route = route.firstChild;\n      return route;\n    }), filter(route => route.outlet === 'primary'), mergeMap(route => route.data)).subscribe(data => {\n      let seoData = data['seo'] || data['postData']?.['seo'];\n      if (seoData) {\n        this.seoService.updateTitle(seoData['title']);\n        this.seoService.updateMetaTags(seoData['metaTags']);\n      }\n    });\n  }\n}\n_class = AppComponent;\n_class.ɵfac = function AppComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.SeoService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-root\"]],\n  decls: 1,\n  vars: 0,\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"router-outlet\");\n    }\n  },\n  dependencies: [i1.RouterOutlet],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["NavigationEnd","filter","map","mergeMap","AppComponent","constructor","router","activatedRoute","seoService","ngOnInit","events","pipe","e","route","firstChild","outlet","data","subscribe","seoData","updateTitle","updateMetaTags","i0","ɵɵdirectiveInject","i1","Router","ActivatedRoute","i2","SeoService","selectors","decls","vars","template","AppComponent_Template","rf","ctx","ɵɵelement"],"sources":["D:\\Angular\\hello-world\\src\\app\\app.component.ts","D:\\Angular\\hello-world\\src\\app\\app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { NavigationEnd, Route } from '@angular/router';\nimport { Router } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\nimport { SeoService } from './seo.service';\nimport { filter, map, mergeMap } from 'rxjs';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  constructor(private router: Router, private activatedRoute: ActivatedRoute, private seoService: SeoService) {\n  }\n  ngOnInit(): void {\n  this.router.events.pipe(\n  filter(e=>e instanceof NavigationEnd),\n  map(e => this.activatedRoute),\n  map((route) => {\n  while (route.firstChild) route= route.firstChild;\n  return route;\n  }),\n  filter((route) => route.outlet === 'primary'),\n  mergeMap((route) => route.data),\n  ).subscribe(data => {\n  let seoData = data['seo'] || data['postData']?.['seo'];\n  if (seoData) {\n  this.seoService.updateTitle(seoData['title']);\n  this.seoService.updateMetaTags(seoData[ 'metaTags']);\n  }\n  });\n}\n}\n","<router-outlet></router-outlet>"],"mappings":";AACA,SAASA,aAAa,QAAe,iBAAiB;AAItD,SAASC,MAAM,EAAEC,GAAG,EAAEC,QAAQ,QAAQ,MAAM;;;;AAM5C,OAAM,MAAOC,YAAY;EACvBC,YAAoBC,MAAc,EAAUC,cAA8B,EAAUC,UAAsB;IAAtF,KAAAF,MAAM,GAANA,MAAM;IAAkB,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAAC,UAAU,GAAVA,UAAU;EAC9F;EACAC,QAAQA,CAAA;IACR,IAAI,CAACH,MAAM,CAACI,MAAM,CAACC,IAAI,CACvBV,MAAM,CAACW,CAAC,IAAEA,CAAC,YAAYZ,aAAa,CAAC,EACrCE,GAAG,CAACU,CAAC,IAAI,IAAI,CAACL,cAAc,CAAC,EAC7BL,GAAG,CAAEW,KAAK,IAAI;MACd,OAAOA,KAAK,CAACC,UAAU,EAAED,KAAK,GAAEA,KAAK,CAACC,UAAU;MAChD,OAAOD,KAAK;IACZ,CAAC,CAAC,EACFZ,MAAM,CAAEY,KAAK,IAAKA,KAAK,CAACE,MAAM,KAAK,SAAS,CAAC,EAC7CZ,QAAQ,CAAEU,KAAK,IAAKA,KAAK,CAACG,IAAI,CAAC,CAC9B,CAACC,SAAS,CAACD,IAAI,IAAG;MACnB,IAAIE,OAAO,GAAGF,IAAI,CAAC,KAAK,CAAC,IAAIA,IAAI,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;MACtD,IAAIE,OAAO,EAAE;QACb,IAAI,CAACV,UAAU,CAACW,WAAW,CAACD,OAAO,CAAC,OAAO,CAAC,CAAC;QAC7C,IAAI,CAACV,UAAU,CAACY,cAAc,CAACF,OAAO,CAAE,UAAU,CAAC,CAAC;;IAEpD,CAAC,CAAC;EACJ;;SApBad,YAAY;;mBAAZA,MAAY,EAAAiB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,MAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAE,cAAA,GAAAJ,EAAA,CAAAC,iBAAA,CAAAI,EAAA,CAAAC,UAAA;AAAA;;QAAZvB,MAAY;EAAAwB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCXzBZ,EAAA,CAAAc,SAAA,oBAA+B"},"metadata":{},"sourceType":"module","externalDependencies":[]}